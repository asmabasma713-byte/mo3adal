<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</title>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #ffe6f0, #ffccf2);
    color: #333;
}

/* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ */
#welcome {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    text-align: center;
}

#welcome h1 {
    font-size: 36px;
    background: linear-gradient(90deg,#ff4ecd,#ff9cee);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 20px;
}

.container {
    max-width: 600px;
    margin: auto;
    padding: 20px;
}

h1 {
    text-align: center;
    margin-bottom: 30px;
    font-size: 28px;
    background: linear-gradient(90deg,#ff4ecd,#8a337c);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.card {
    background: #fff0f8;
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 8px 15px rgba(255,0,150,0.2);
    transition: 0.8s;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(255,0,180,0.3);
}

.header {
    display: flex;
    justify-content: space-between;
    font-weight: bold;
    margin-bottom: 15px;
    color: #ff4ecd;
}

.inputs {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
}

.input-box {
    flex: 1;
}

input {
    width: 90%;
    flex: 1;
    padding: 10px;
    border-radius: 10px;
    border: 1px solid #ffb3f5;
    text-align: center;
    font-size: 16px;
    outline: none;
    transition: 0.3s;
    background: #fff0f8;
}
   
input:focus {
    box-shadow: 0 0 10px #830c61;
}

.result {
    display: flex;
    gap: 10px;
}

.result-box {
    flex: 1;
    background: #ffe6f0;
    padding: 10px;
    border-radius: 12px;
    text-align: center;
}

.result-box span {
    display: block;
    font-size: 13px;
    opacity: 0.8;
}

.result-box strong {
    font-size: 18px;
    color: #ff4ecd;
}

.warn-glow {
    color: #ff1a75;
    font-size: 12px;
    margin-top: 2px;
    text-align: center;
    display: none;
    animation: glow 1s ease-in-out infinite alternate;
}

@keyframes glow {
    from { text-shadow: 0 0 2px #ff99cc, 0 0 5px #ff66b2; }
    to { text-shadow: 0 0 5px #ff66b2, 0 0 10px #ff3399; }
}

button#startBtn {
    width: 100%;
    padding: 15px;
    font-size: 18px;
    border-radius: 12px;
    border: none;
    background: linear-gradient(90deg,#ff4ecd,#ff9cee);
    color: white;
    cursor: pointer;
    margin-top: 15px;
    box-shadow: 0 5px 20px rgba(255,0,150,0.3);
    transition: 0.3s;
}

button#startBtn:hover {
    transform: scale(1.03);
    box-shadow: 0 8px 25px rgba(255,0,180,0.5);
}

.global {
    background: linear-gradient(90deg,#b578aa,#e473c2);
    padding: 20px;
    border-radius: 20px;
    text-align: center;
    font-size: 22px;
    font-weight: bold;
    margin-top: 40px;
    animation: pulse 2s infinite;
    transition: 0.5s;
}

/* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† pulse Ø¹Ù†Ø¯ ØªØºÙŠØ± Ø§Ù„Ù…Ø¹Ø¯Ù„ */

@keyframes pulse {
    0% { transform: scale(1); background: linear-gradient(90deg,#ff99cc,#ff66b2); }
    50% { transform: scale(1.05); background: linear-gradient(90deg,#ff66b2,#ff1a75); }
    100% { transform: scale(1); background: linear-gradient(90deg,#b578aa,#e473c2); }
}

@media(max-width:500px){
    .inputs { flex-direction: column; }
    .result { flex-direction: column; }
}

.top-line {
    height: 5px;
    background: linear-gradient(90deg, #f163cd, #f838c8);
}
.footer {
    width: 100%;
    text-align: center;
    font-size: 12px;
    color: #94a3b8; /* Ù„ÙˆÙ† ÙØ§ØªØ­ */
    padding: 10px 0;
    position: relative; /* ÙŠØ¨Ù‚Ù‰ ØªØ­Øª Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
    margin-top: 30px; /* Ø´ÙˆÙŠØ© Ù…Ø³Ø§ÙØ© Ø¹Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
}
</style>
</head>

<body>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
<div id="welcome">
    <h1>Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ ÙÙŠ Ù…ÙˆÙ‚Ø¹ Ù…Ø¹Ø¯Ù„Ùƒ  ğŸ’–</h1>
    <button id="startBtn">Ø§Ø¨Ø¯Ø£</button>


<div class="footer">
 <h3>By aso </h3> Â© 2026 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© - Ù…ÙˆÙ‚Ø¹ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„
</div>

</div>


<div class="container" id="main" style="display:none;">
<h1>Ù…Ø®ØµØµ Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¹Ù„ÙŠØ§ Ù„Ù„Ø§Ø³Ø§ØªØ°Ø© Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ Ø£Ø¯Ø¨ Ø¹Ø±Ø¨ÙŠ ÙÙ‚Ø·</h1>

<div class="top-line" ></div>

<h1>Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø³Ø¯Ø§Ø³ÙŠ Ø§Ù„Ø£ÙˆÙ„ </h1>

<div id="subjects"></div>
<div class="global">
Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¹Ø§Ù… : <span id="globalMoy">0.00</span>
</div>
</div>

<script>
const subjects = [
{ name:"1 Ø§Ù„Ø£Ø¯Ø¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠ", coef:2 },
{ name:"1 Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", coef:2 },
{ name:"1 Ø§Ù„ØµØ±Ù Ø§Ù„Ø¹Ø±Ø¨ÙŠ", coef:2 },
{ name:"Ø§Ù„Ø¨Ù„Ø§ØºØ©", coef:1 },
{ name:"1 Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„Ø¹Ø±Ø¨ÙŠ", coef:2 },
{ name:"ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù… ÙˆØ§Ù„Ø§ØªØµØ§Ù„", coef:1 },
{ name:"1 ØªØ±Ø¨ÙŠØ© Ø¥Ø³Ù„Ø§Ù…ÙŠØ©", coef:2 },
{ name:"Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡", coef:1 },
{ name:"ÙÙ†ÙŠØ§Øª Ø§Ù„ÙƒØªØ§Ø¨Ø©", coef:1 },
{ name:"ÙÙŠØ²ÙŠØ§Ø¡ 1", coef:2 }
];

// Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
document.getElementById('startBtn').addEventListener('click', function(){
    document.getElementById('welcome').style.display = 'none';
    document.getElementById('main').style.display = 'block';
    generateSubjects();
    addValidation();
    calculate();
});

// ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…ÙˆØ§Ø¯
function generateSubjects(){
    const container = document.getElementById("subjects");
    container.innerHTML = "";
    subjects.forEach((sub,index)=>{
        container.innerHTML += `
        <div class="card">
            <div class="header">
                <div>${sub.name}</div>
                <div>Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ : ${sub.coef}</div>
            </div>
            <div class="inputs">
                <div class="input-box">
                    <input type="number" placeholder="TD" min="0" max="20" step="0.25" class="td" data-id="${index}">
                    <div class="warn-glow">Ù„Ø§ ØªØªØ¬Ø§ÙˆØ² 20</div>
                </div>
                <div class="input-box">
                    <input type="number" placeholder="Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±" min="0" max="20" step="0.25" class="exam" data-id="${index}">
                    <div class="warn-glow">Ù„Ø§ ØªØªØ¬Ø§ÙˆØ² 20 </div>
                </div>
            </div>
            <div class="result">
                <div class="result-box">
                    <span>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù…Ø§Ø¯Ø©</span>
                    <strong id="moy${index}">0.00</strong>
                </div>
                <div class="result-box">
                    <span>Ù…Ø¹Ø¯Ù„ Ã— Ù…Ø¹Ø§Ù…Ù„</span>
                    <strong id="coefMoy${index}">0.00</strong>
                </div>
            </div>
        </div>`;
    });
}
document.addEventListener("input", function(e){

    if(e.target.classList.contains("td") || 
       e.target.classList.contains("exam")){

        let value = parseFloat(e.target.value);

        if(value > 20){
            e.target.value = 20;
        }

        if( value == 0){
            e.target.value = 0;
        }

    }

});

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„
document.addEventListener("input", calculate);

function calculate(){
    let total = 0;
    let totalCoef = 0;

    subjects.forEach((sub,index)=>{
        let td = parseFloat(document.querySelectorAll(".td")[index].value) || 0;
        let exam = parseFloat(document.querySelectorAll(".exam")[index].value) || 0;

        // Ù…Ù†Ø¹ ØªØ¬Ø§ÙˆØ² 20 Ùˆ Ø£Ù‚Ù„ Ù…Ù† 0
        if(td>20) td=20;
        if(td<0) td=0;
        if(exam>20) exam=20;
        if(exam<0) exam=0;

        let moy = 0;
        if(td && exam) moy = td*0.33 + exam*0.67;
        else if(exam) moy = exam;
        else if(td) moy = td;

        let coefMoy = moy*sub.coef;

        document.getElementById("moy"+index).innerText = moy.toFixed(2);
        document.getElementById("coefMoy"+index).innerText = coefMoy.toFixed(2);

        total += coefMoy;
        totalCoef += sub.coef;
    });

    let global = totalCoef ? total/totalCoef : 0;
    const globalSpan = document.getElementById("globalMoy");
    globalSpan.innerText = global.toFixed(2);

    // Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Flash Ø¹Ù†Ø¯ ØªØºÙŠØ± Ø§Ù„Ù…Ø¹Ø¯Ù„
    const globalBox = document.querySelector(".global");
    globalBox.classList.remove("flash");
    void globalBox.offsetWidth; // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†
    globalBox.classList.add("flash");
}

// Ø¥Ø¶Ø§ÙØ© ØªØ­Ø°ÙŠØ± Glow ØªÙ„Ù‚Ø§Ø¦ÙŠ
function addValidation(){
    document.querySelectorAll(".td, .exam").forEach(input=>{
        const warn = input.nextElementSibling;
        input.addEventListener("input", function(){
            if(parseFloat(input.value) > 20 || parseFloat(input.value) < 0){
                warn.style.display="block";
            } else {
                warn.style.display="none";
            }
        });
    });
}

</script>

</body>
</html>
